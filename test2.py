from math import sqrt
import sys


def calculate_path_cost(arr):
    # Linear Implementation
    sum = 0
    for i in range(len(arr) - 1):
        node1 = arr[i]
        node2 = arr[i + 1]
        if ([node1, node2]) in blockage:
            sum += sys.maxsize
        else:
            sum += dist[node1][node2]
    if ([arr[0], arr[-1]]) in blockage:
        sum += sys.maxsize
    else:
        sum += dist[arr[-1]][arr[0]]
    if sum == 0:
        # returns infinity for invalid paths
        return sys.maxsize
    return sum


def calculate_distance_matrix(coordinates):
    num_nodes = len(coordinates)
    distance_matrix = [[0] * num_nodes for _ in range(num_nodes)]

    for i in range(num_nodes):
        x1, y1 = coordinates[i]
        for j in range(num_nodes):
            x2, y2 = coordinates[j]
            distance = sqrt((x2 - x1) ** 2 + (y2 - y1) ** 2)
            distance_matrix[i][j] = distance

    return distance_matrix


blockage = []


# Sample coordinates of cities
coordinates = [
    [607455, 953773],
    [845467, 854635],
    [585545, 672185],
    [19913, 39467],
    [500785, 699650],
    [161032, 876069],
    [819775, 765484],
    [695697, 229314],
    [77707, 804296],
    [580407, 611640],
    [194514, 823649],
    [773629, 823948],
    [251036, 989851],
    [677640, 64245],
    [236311, 263133],
    [850442, 316934],
    [498653, 843431],
    [12549, 550548],
    [165419, 921219],
    [339384, 445646],
    [371465, 251158],
    [985973, 71267],
    [996845, 837956],
    [343295, 80483],
    [211709, 137651],
    [508066, 889011],
    [7791, 98239],
    [256671, 626801],
    [609637, 87161],
    [156705, 282808],
    [383985, 106277],
    [260988, 110318],
    [726830, 378455],
    [398625, 341569],
    [256706, 336506],
    [627861, 736378],
    [802828, 431915],
    [627538, 755490],
    [681394, 394016],
    [97309, 648889],
    [913818, 528302],
    [468094, 272773],
    [931498, 902175],
    [345028, 30107],
    [226983, 707141],
    [868701, 559846],
    [4129, 401717],
    [310474, 360690],
    [979851, 898811],
    [254703, 358084],
    [542609, 905508],
    [190874, 809032],
    [495032, 667837],
    [525915, 392542],
    [342271, 243655],
    [768805, 917776],
    [497378, 480115],
    [690138, 421430],
    [929947, 795289],
    [791310, 195245],
    [527677, 924673],
    [689517, 869930],
    [437138, 930613],
    [620362, 358943],
    [878425, 909056],
    [2427, 578001],
    [353673, 583045],
    [894277, 793378],
    [493573, 530435],
    [778007, 655612],
    [976051, 347800],
    [771553, 249460],
    [218865, 336710],
    [492074, 313391],
    [643155, 359321],
    [334062, 803881],
    [300665, 430360],
    [245591, 829463],
    [692477, 856440],
    [103481, 102984],
    [560325, 602291],
    [838877, 188831],
    [703811, 179243],
    [421600, 455552],
    [435808, 126293],
    [253056, 43334],
    [403962, 538419],
    [77101, 677342],
    [212968, 563458],
    [497100, 341526],
    [104464, 94205],
    [14985, 67828],
    [315387, 381697],
    [114466, 127966],
    [109261, 621073],
    [884556, 320770],
    [440850, 823126],
    [56192, 369167],
    [857033, 605606],
    [810140, 704199],
    [329159, 998095],
    [443618, 932329],
    [843335, 917130],
    [695307, 723465],
    [977258, 169560],
    [71227, 557652],
    [628005, 148962],
    [228025, 617280],
    [197591, 387063],
    [347247, 629608],
    [524610, 298136],
    [355499, 841540],
    [882091, 38049],
    [505826, 532172],
    [706272, 229021],
    [819561, 544867],
    [203103, 636432],
    [798626, 334587],
    [691986, 936169],
    [955738, 768744],
    [238897, 365181],
    [758982, 387375],
    [768495, 867060],
    [976983, 423086],
    [565651, 851739],
    [862866, 20419],
    [773502, 676364],
    [975547, 669111],
    [955717, 739579],
    [256283, 877031],
    [759482, 737221],
    [1513, 928050],
    [818462, 373093],
    [421249, 448413],
    [938989, 914983],
    [655691, 651379],
    [694140, 294087],
    [859865, 203818],
    [802738, 754793],
    [766389, 671384],
    [494763, 477252],
    [581332, 781113],
    [735881, 500545],
    [61077, 876644],
    [210607, 479493],
    [902986, 757283],
    [964006, 591639],
    [231588, 453569],
    [910132, 677399],
    [577165, 632638],
    [351689, 928593],
    [218799, 457073],
    [25081, 99310],
    [745838, 52522],
    [872543, 614194],
    [67313, 651948],
    [67384, 656856],
    [915517, 352129],
    [67248, 765754],
    [954182, 39657],
    [987769, 158605],
    [417344, 709812],
    [963073, 624319],
    [819549, 534731],
    [478110, 585137],
    [394745, 128799],
    [591174, 74006],
    [513052, 297606],
    [434961, 698098],
    [710513, 645228],
    [541197, 78678],
    [164832, 961652],
    [33686, 591038],
    [134444, 587148],
    [309893, 822959],
    [823532, 239897],
    [338777, 254774],
    [861880, 109243],
    [39786, 356365],
    [683813, 465039],
    [379209, 480395],
    [475083, 216729],
    [318970, 190320],
    [483179, 458838],
    [214569, 646276],
    [826592, 139705],
    [721102, 130050],
    [131347, 800248],
    [155731, 796154],
    [986499, 265528],
    [625700, 745333],
    [978526, 413029],
    [101847, 8688],
    [669594, 353590],
    [395581, 192412],
    [718869, 406692],
    [531708, 681729],
    [342595, 638389],
    [398570, 958783],
    [290302, 463003],
    [535024, 317989],
    [574993, 614130],
    [436141, 218160],
    [849117, 227269],
    [928362, 102226],
    [566767, 399917],
    [832290, 266350],
    [101621, 934280],
    [112905, 86684],
    [136301, 24634],
    [122248, 119031],
    [532992, 907550],
    [855490, 146984],
    [491244, 107208],
    [55083, 296569],
    [590810, 547531],
    [721435, 163409],
    [480455, 37941],
    [998659, 483650],
    [45367, 269308],
    [470438, 563804],
    [26956, 211522],
    [134772, 348518],
    [530533, 574552],
    [741117, 211519],
    [346085, 392288],
    [731593, 363516],
    [604919, 736362],
    [504318, 178318],
    [185590, 320798],
    [763926, 844773],
    [614048, 871474],
    [997635, 287757],
    [94445, 271351],
    [211273, 142474],
    [396082, 978131],
    [826494, 566351],
    [862375, 540735],
    [15224, 851378],
    [404875, 166986],
    [677097, 13065],
    [897056, 484719],
    [540719, 993225],
    [379269, 871924],
    [37704, 604726],
    [983638, 792765],
    [500915, 626721],
    [929241, 78590],
    [617280, 689726],
    [535724, 201599],
    [143391, 401485],
    [932, 859040],
    [594135, 605291],
    [462954, 480367],
    [241504, 207308],
    [408393, 893093],
    [591802, 703542],
    [850453, 275586],
    [977497, 985211],
    [356097, 733714],
    [365677, 522363],
    [773588, 305792],
    [197216, 202870],
    [820690, 434244],
    [318121, 930181],
    [235181, 70133],
    [930346, 280544],
    [483342, 482073],
    [965816, 811852],
    [29837, 144585],
    [64, 729239],
    [949509, 267086],
    [17068, 39006],
    [824322, 266090],
    [197557, 763021],
    [492334, 558731],
    [171634, 816814],
    [840410, 425958],
    [476619, 956503],
    [756210, 752723],
    [322163, 97609],
    [692331, 927513],
    [793960, 787700],
    [381370, 114015],
    [243185, 23895],
    [11633, 596879],
    [747907, 317631],
    [683339, 284032],
    [861667, 106719],
    [427610, 498391],
    [474476, 20073],
    [361407, 596926],
    [74461, 859130],
    [123230, 78793],
    [86474, 618686],
    [976169, 423454],
    [392874, 720093],
    [241882, 521773],
    [775532, 288904],
    [903866, 527932],
    [187680, 271594],
    [381455, 660561],
    [193681, 872159],
    [924307, 449844],
    [495223, 940925],
    [695277, 738877],
    [971757, 697089],
    [891042, 515033],
    [607819, 752490],
    [638452, 366381],
    [555231, 807260],
    [650788, 946145],
    [515168, 774493],
    [727469, 46338],
    [598607, 631062],
    [490410, 937227],
    [321278, 983804],
    [372896, 321532],
    [727757, 474701],
    [74930, 403914],
    [431895, 417577],
    [532449, 612324],
    [341766, 399040],
    [547180, 255902],
    [915571, 981521],
    [348669, 984648],
    [342763, 354969],
    [391556, 613865],
    [908101, 325997],
    [351456, 805054],
    [223986, 970451],
    [402910, 240614],
    [716754, 564272],
    [565575, 920717],
    [167897, 315115],
    [406869, 299214],
    [495924, 801379],
    [939738, 704997],
    [266753, 936750],
    [227371, 367479],
    [445583, 797137],
    [610619, 444307],
    [726494, 829306],
    [223782, 672789],
    [600373, 402993],
    [420623, 369110],
    [337041, 406253],
    [99495, 204432],
    [42336, 763303],
    [973385, 348660],
    [350391, 986988],
    [361847, 160726],
    [252578, 395427],
]

dist = calculate_distance_matrix(coordinates)

# Sample path of nodes (cities)
path = [
    0,
    311,
    118,
    281,
    61,
    78,
    342,
    122,
    55,
    102,
    324,
    258,
    48,
    42,
    134,
    64,
    1,
    230,
    11,
    282,
    6,
    99,
    138,
    279,
    130,
    103,
    305,
    37,
    35,
    190,
    308,
    141,
    310,
    312,
    336,
    16,
    25,
    62,
    255,
    96,
    340,
    168,
    161,
    296,
    301,
    66,
    291,
    109,
    197,
    75,
    259,
    329,
    111,
    174,
    243,
    264,
    150,
    338,
    129,
    274,
    77,
    10,
    51,
    276,
    188,
    187,
    44,
    343,
    27,
    116,
    184,
    107,
    88,
    297,
    352,
    76,
    147,
    199,
    322,
    225,
    346,
    180,
    19,
    260,
    327,
    86,
    253,
    289,
    83,
    133,
    320,
    89,
    73,
    41,
    181,
    228,
    249,
    323,
    167,
    110,
    200,
    7,
    287,
    136,
    286,
    226,
    195,
    32,
    38,
    193,
    74,
    309,
    63,
    205,
    344,
    341,
    53,
    140,
    56,
    183,
    267,
    68,
    113,
    275,
    220,
    246,
    52,
    164,
    223,
    321,
    4,
    196,
    256,
    227,
    248,
    135,
    2,
    314,
    9,
    80,
    149,
    201,
    252,
    215,
    332,
    318,
    57,
    179,
    142,
    169,
    69,
    139,
    126,
    98,
    236,
    115,
    237,
    307,
    241,
    299,
    40,
    146,
    127,
    128,
    58,
    268,
    245,
    22,
    306,
    67,
    119,
    145,
    337,
    148,
    162,
    154,
    45,
    163,
    277,
    263,
    36,
    121,
    132,
    117,
    298,
    261,
    257,
    206,
    71,
    273,
    15,
    157,
    95,
    328,
    266,
    232,
    189,
    349,
    303,
    218,
    123,
    295,
    191,
    70,
    271,
    137,
    288,
    112,
    159,
    125,
    177,
    247,
    21,
    160,
    104,
    204,
    185,
    212,
    59,
    175,
    203,
    81,
    224,
    186,
    240,
    313,
    153,
    13,
    82,
    216,
    114,
    106,
    28,
    166,
    170,
    213,
    217,
    290,
    84,
    239,
    194,
    202,
    331,
    20,
    176,
    14,
    182,
    280,
    31,
    24,
    234,
    254,
    262,
    29,
    300,
    229,
    72,
    334,
    233,
    222,
    319,
    97,
    178,
    214,
    219,
    347,
    269,
    221,
    26,
    272,
    3,
    192,
    209,
    90,
    93,
    152,
    91,
    79,
    210,
    208,
    293,
    265,
    85,
    284,
    43,
    23,
    165,
    30,
    283,
    351,
    54,
    335,
    33,
    345,
    326,
    317,
    92,
    47,
    34,
    339,
    120,
    49,
    108,
    250,
    151,
    144,
    173,
    94,
    105,
    46,
    17,
    65,
    285,
    244,
    294,
    172,
    270,
    87,
    39,
    155,
    156,
    158,
    8,
    348,
    131,
    251,
    238,
    143,
    292,
    302,
    5,
    18,
    207,
    171,
    330,
    12,
    316,
    100,
    350,
    325,
    235,
    198,
    101,
    278,
    315,
    304,
    242,
    60,
    211,
    50,
    333,
    124,
    231,
]
# Calculate the total distance
total_distance = calculate_path_cost(path)
print("Total distance:", total_distance)
